/**
* Coolstrapp.js 
*/
var COOLSTRAP=COOLSTRAP||{};COOLSTRAP.VERSION="0.9",COOLSTRAP.Attributes||(COOLSTRAP.Attributes={}),COOLSTRAP.Data||(COOLSTRAP.Data={}),COOLSTRAP.View||(COOLSTRAP.View={}),COOLSTRAP.Device||(COOLSTRAP.Device={}),COOLSTRAP.Fallback||(COOLSTRAP.Fallback={}),COOLSTRAP.Framework||(COOLSTRAP.Framework={}),COOLSTRAP.dom="undefined"!=typeof window?window.jQuery||window.Zepto||null:null,COOLSTRAP.App=function(a){var b,c={name:"coolstrap",log_level:-1},d=function(){a.Framework.Sections.setup(),a.Framework.Articles.setup(),a.Framework.Navigation.setup()},e=function(){b="123456"},f=function(b){c=a.Util.Core.extend(c,b),d(),e()};return{init:f,launchOptions:c,sessionId:b}}(COOLSTRAP),COOLSTRAP.Console=function(a){var b=function(b,c){var d=a.App.launchOptions.log_level||0,e=a.Constants.LOG_LEVEL;a.Util.Platform.isMobile()||b>=d&&console[b===e.DEBUG||b===e.INFO?"info":b===e.LOG?"log":b===e.WARN?"warn":"error"](c)};return{debug:function(c){typeof c!="object"&&(c="[DEBUG] "+c),b(a.Constants.LOG_LEVEL.DEBUG,c)},info:function(c){typeof c!="object"&&(c="[INFO] "+c),b(a.Constants.LOG_LEVEL.INFO,c)},log:function(c){typeof c!="object"&&(c="[LOG] "+c),b(a.Constants.LOG_LEVEL.LOG,c)},warn:function(c){typeof c!="object"&&(c="[WARN] "+c),b(a.Constants.LOG_LEVEL.WARN,c)},error:function(c){typeof c!="object"&&(c="[ERROR] "+c),b(a.Constants.LOG_LEVEL.ERROR,c)}}}(COOLSTRAP),COOLSTRAP.Constants={ELEMENT:{SECTION:"section",ARTICLE:"article",ASIDE:"aside",DIALOG:'div[role="dialog"]',BODY:"body",DIV:"div"},TARGET:{CONTAINER:"container",MAIN:"main",SECTION:"section",ARTICLE:"article",ASIDE:"aside",BACK:"back",DIALOG:"dialog",CLOSE:"close"},TRANSITION:{DURATION:250},CLASS:{ACTIVE:"active",ASIDE:"aside",SHOW:"show",HIDE:"hide",CURRENT:"current",FIRST:"first",RIGHT:"onright",LEFT:"onleft",TOP:"ontop",BOTTOM:"onbottom",CENTER:"oncenter",HORIZONTAL:"horizontal",SCROLLABLE:"scrollable",FADE_IN:"fadeIn",NONE:""},ATTRIBUTE:{ID:"id",HREF:"href",TITLE:"title",ARTICLE:"article",CLASS:"class",WIDTH:"width",HEIGHT:"height",PIXEL:"px",PERCENT:"%",TARGET:"target",FIRST:"first",LAST:"last",EMPTY:""},TRIGGER:{LOAD:"load",UNLOAD:"unload"},LOG_LEVEL:{DEBUG:-1,INFO:0,LOG:1,WARN:2,ERROR:3,NONE:4},DIALOG:{MODAL:"modal",ALERT:"alert",ACTION:"action",POPOVER:"popover"},COMMAND:{CLOSE_DIALOG:"close"},ERROR:{CREATE_SCROLL:"ERROR: Impossible to create a <scroll> without ID.",ROUTER:"ERROR: The target does not exists >>",LOADING_RESOURCE:"ERROR: Loading resource."}},COOLSTRAP.Plugins=function(a,b){function h(a,b,c,d){if("addEventListener"in a)try{a.addEventListener(b,c,d)}catch(e){if(typeof c=="object"&&c.handleEvent)a.addEventListener(b,function(a){c.handleEvent.call(c,a)},d);else throw e}else"attachEvent"in a&&(typeof c=="object"&&c.handleEvent?a.attachEvent("on"+b,function(){c.handleEvent.call(c)}):a.attachEvent("on"+b,c))}function i(a,b,c,d){if("removeEventListener"in a)try{a.removeEventListener(b,c,d)}catch(e){if(typeof c=="object"&&c.handleEvent)a.removeEventListener(b,function(a){c.handleEvent.call(c,a)},d);else throw e}else"detachEvent"in a&&(typeof c=="object"&&c.handleEvent?a.detachEvent("on"+b,function(){c.handleEvent.call(c)}):a.detachEvent("on"+b,c))}var c=!1,d=function(a,b){this.handler=b;if(a.length&&a.length>1)for(var c in a)this.addClickEvent(a[c]);else this.addClickEvent(a)};d.prototype.handleEvent=function(a){a=a||window.event;switch(a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onClick(a);break;case"click":this.onClick(a)}},d.prototype.onTouchStart=function(a){var c=a.srcElement;a.stopPropagation(),c.addEventListener("touchend",this,!1),b.body.addEventListener("touchmove",this,!1),this.startX=a.touches[0].clientX,this.startY=a.touches[0].clientY,c.style.backgroundColor="rgba(0,0,0,.7)"},d.prototype.onTouchMove=function(a){(Math.abs(a.touches[0].clientX-this.startX)>10||Math.abs(a.touches[0].clientY-this.startY)>10)&&this.reset(element)},d.prototype.onClick=function(a){a=a||window.event;var b=a.srcElement;a.stopPropagation&&a.stopPropagation(),this.reset(a),this.handler.apply(a.currentTarget,[a]),a.type=="touchend"&&e(this.startX,this.startY),b.style.backgroundColor=""},d.prototype.reset=function(a){var c=a.srcElement;i(c,"touchend",this,!1),i(b.body,"touchmove",this,!1),c.style.backgroundColor=""},d.prototype.addClickEvent=function(a){h(a,"touchstart",this,!1),h(a,"click",this,!1)};var e=function(a,b){g.push(a,b),window.setTimeout(function(){g.splice(0,2)},2500)},f=function(a){if(!c&&"ontouchstart"in window){a.stopPropagation(),a.preventDefault();return}for(var b=0,d=g.length;b<d;b+=2){var e=g[b],f=g[b+1];Math.abs(a.clientX-e)<25&&Math.abs(a.clientY-f)<25&&(a.stopPropagation(),a.preventDefault())}};b.addEventListener&&b.addEventListener("click",f,!0),h(b.documentElement,"touchstart",function(){c=!0},!1);var g=[];return{fastButton:d}}(COOLSTRAP,document),COOLSTRAP.Util=function(a){var b=function(a){var b=a.lastIndexOf("#");return b>0?a=a.substring(b):b===-1&&(a="#"+a),a},c=function(a){var b=a.lastIndexOf("#");return b>=0&&(a=a.substring(b+1)),a};return{parseUrl:b,cleanUrl:c}}(COOLSTRAP),COOLSTRAP.Util.Core=function(a){var b=function(a){return Array.prototype.slice.call(a,0)},c=function(a){return Object.prototype.toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},d=function(){var a=b(arguments),d=a.shift();c(d)==="function"&&d.apply(null,a)},e=function(){var a=a||{};for(var b=0,c=arguments.length;b<c;b++){var d=arguments[b];for(var e in d)a[e]=d[e]}return a};return{execute:d,extend:e}}(COOLSTRAP),COOLSTRAP.Util.Platform=function(a){var b={android:/(Android)\s+([\d.]+)/,ipad:/(iPad).*OS\s([\d_]+)/,iphone:/(iPhone\sOS)\s([\d_]+)/,blackberry:/(BlackBerry).*Version\/([\d.]+)/,webos:/(webOS|hpwOS)[\s\/]([\d.]+)/,windows:/(Windows Phone OS)[\s\/]([\d.]+)/},c=null,d=function(a){var b=a.match(/WebKit\/([\d.]+)/);return b?b[0]:a},e=function(a){var c;for(os in b){var d=a.match(b[os]);if(d){c={name:os==="iphone"||os==="ipad"?"ios":os,version:d[2].replace("_",".")};break}}return c},f=function(){var a=navigator.userAgent,b={};return b.browser=d(a),b.os=e(a),b.isMobile=b.os?!0:!1,b.screen={width:window.innerWidth,height:window.innerHeight},b},g=function(){return c=c||f(),c.isMobile},h=function(a){return c=a?f():c||f(),c},i=function(){return h(!0)},j=function(){return navigator.onLine};return{isMobile:g,environment:h,isOnline:j,reloadEnvironment:i}}(COOLSTRAP),COOLSTRAP.Util.UI=function(a){var b=document.querySelector&&document.querySelector('meta[name="viewport"]'),c=function(){var a=window,b=a.document;if(!location.hash||!a.addEventListener){a.scrollTo(0,1);var c=1,d=setInterval(function(){b.body&&(clearInterval(d),c="scrollTop"in b.body?b.body.scrollTop:1,a.scrollTo(0,c===1?0:1))},15);a.addEventListener("load",function(){setTimeout(function(){a.scrollTo(0,c===1?0:1)},0)},!1)}},d=function(a,b){function c(a){var b=this.scrollHeight,c=this.clientHeight;b>c&&(this.style.height=b+3*e+"px")}var d=b?b:12,e=a.currentStyle?a.currentStyle.lineHeight:getComputedStyle(a,null).lineHeight;e=e.indexOf("px")==-1?d:parseInt(e,10),a.style.overflow="hidden",a.addEventListener?a.addEventListener("keyup",c,!1):a.attachEvent("onkeyup",c)},e=function(){document.addEventListener("touchstart",function(){},!1)},f=function(){var a=document.querySelectorAll("input, select, textarea"),c="width=device-width,initial-scale=1,maximum-scale=",d=0;for(d=0;d<a.length;d++)a[d].onfocus=function(){b.content=c+"1"},a[d].onblur=function(){b.content=c+"10"}};return{hideNavigationBar:c,autogrow:d,enableActive:e,preventZoom:f}}(COOLSTRAP),COOLSTRAP.Framework.Sections=function(a){var b=a.Constants.ELEMENT,c=a.Constants.CLASS,d=a.Constants.ATTRIBUTE,e=function(b){var e=b.first(),f="#"+e.attr(d.ID);e.addClass(c.CURRENT),a.Navigate.History.add({section_id:f,replace_state:!0})},f=function(b){for(var c=0,d=b.length;c<d;c++){var e=a.dom(b[c]);g(e)}},g=function(a){var e=a.children(b.ARTICLE).first();e.addClass(c.CURRENT);var f=e.attr(d.ID),g="#"+a.attr(d.ID)},h=function(b){for(var c=0,d=b.length;c<d;c++){var e=a.dom(b[c]);g(e)}},i=function(){var c=a.dom(b.SECTION),d=a.dom(b.ASIDE);e(c),f(c),h(d)};return{setup:i}}(COOLSTRAP),COOLSTRAP.Framework.Articles=function(a){var b=a.Constants.CLASS.SCROLLABLE,c=function(b,c){var d=a.dom(b);for(var e=0,f=d.length;e<f;e++){var g=a.dom(d[e]);a.Util.Core.execute(c,g)}},d=function(b){a.View.Scroll.init(b)},e=function(){c("."+b,d)};return{setup:e}}(COOLSTRAP),COOLSTRAP.Framework.Navigation=function(a,b){var c=a.Constants.ATTRIBUTE,d=a.Constants.CLASS,e=a.Constants.ELEMENT,f=a.Constants.TARGET,g=a.Constants.TRANSITION,h=a.Constants.COMMAND,i={HREF_TARGET:'[role="main"] a[href][data-target]',HREF_TARGET_FROM_ASIDE:"aside a[href][data-target]"},j=a.Console,k=function(b){b=a.Util.parseUrl(b),a.Navigate.section(b)},l=function(b){var d=a.Navigate.History.current(),e=b.attr(c.HREF);a.Navigate.article(d,e)},m=function(b,d){var e=b.attr(c.HREF);a.Navigate.dialog(e,d||{source_element:b})},n=function(b,d){var g=d.attr(c.HREF),h=a.dom(g).parents(e.ASIDE).first();if(g===b)return!1;if(!h||"#"+h.attr(c.ID)!==b&&g!=="#"+f.BACK)return a.View.Aside.hide(b),!0},o=function(b){var f=b.attr(c.HREF),h=a.dom(e.ASIDE+"."+d.CURRENT).first(),i=!1;h&&(i=n("#"+h.attr(c.ID),b)),i?setTimeout(function(){a.Navigate.aside(f)},g.DURATION):a.Navigate.aside(f)},p=function(b){a.Navigate.back(b)},q=function(a){var b=a.data(c.TARGET),d=a.parents(e.ASIDE).attr(c.ID);switch(b){case f.SECTION:var g=a.attr(c.HREF);k(g,d);break;case f.ARTICLE:l(a);break;case f.ASIDE:o(a);break;case f.DIALOG:m(a);break;case f.BACK:p(d);break;case f.CLOSE:m(a,h.CLOSE_DIALOG)}},r=function(b){var h=a.dom(this),j="#"+h.parents(e.ASIDE).attr(c.ID),k=h.data(c.TARGET);k===f.BACK||k===f.CLOSE?q(h):(k===f.ARTICLE&&(a.dom(e.ASIDE+j+" "+i.HREF_TARGET).removeClass(d.CURRENT),h.addClass(d.CURRENT)),n(j,h)?setTimeout(function(){q(h)},g.DURATION):q(h)),b.preventDefault()},s=function(b){var c=a.dom(this);q(c),b.preventDefault()},t=function(){typeof document.documentElement.ontouchstart!="undefined"?(a.dom(i.HREF_TARGET_FROM_ASIDE).tap(r),a.dom(i.HREF_TARGET).tap(s)):(a.dom(i.HREF_TARGET_FROM_ASIDE).click(r),a.dom(i.HREF_TARGET).click(s)),a.Fallback.Android.buttons(),a.Navigate.History.setup()};return{setup:t}}(COOLSTRAP,window),COOLSTRAP.Navigate=function(a){var b=a.Constants.ATTRIBUTE,c=a.Constants.CLASS,d=a.Constants.ELEMENT,e=a.Constants.TRIGGER,f=a.Constants.TRANSITION,g=a.Constants.COMMAND,h=a.Console,i=function(b){var c=!1;return a.dom(b).length>0?c=!0:h.warn("Hey! Target doesnt exists: "+b),c},j=function(b){return a.Navigate.History.size(b)},k=function(b){return a.Navigate.History.current(b)},l=function(g){g=a.Util.parseUrl(g);var j=a.dom(g).parent(d.ASIDE).attr(b.ID),l=k(j),m=d.SECTION+g;l!==g?i(m)&&(a.dom(l).removeClass(c.SHOW).addClass(c.HIDE),a.dom(m).addClass(c.CURRENT).addClass(c.SHOW).trigger(e.LOAD),setTimeout(function(){a.dom(l).removeClass(c.CURRENT)},f.DURATION),a.Navigate.History.add({section_id:g,container_id:j})):h.warn("WTF! you are here!")},m=function(b,c){b=a.Util.parseUrl(b),c=a.Util.parseUrl(c);var f=d.SECTION+b+" "+d.ARTICLE+c;i(f)&&(a.dom(f).trigger(e.LOAD),a.View.Article.show(b,c))},n=function(b){b=a.Util.parseUrl(b);var e=d.ASIDE+b;if(i(e)){var f=a.dom(e).hasClass(c.CURRENT);f?a.View.Aside.hide(b):a.View.Aside.show(b)}},o=function(b,c){var f=d.DIALOG+b,h;typeof c=="string"&&(h=c),i(f)&&(h&&h===g.CLOSE_DIALOG?(a.dom(f).trigger(e.UNLOAD),a.View.Dialog.close(b)):(a.dom(f).trigger(e.LOAD),a.View.Dialog.show(b,c)))},p=function(b){if(j(b)>1){var g=d.SECTION+k(b);a.dom(g).removeClass(c.SHOW).trigger(e.UNLOAD),setTimeout(function(){a.dom(g).removeClass(c.CURRENT)},f.DURATION),a.Navigate.History.removeLast(b),a.dom(k(b)).addClass(c.CURRENT).removeClass(c.HIDE).addClass(c.SHOW)}else h.warn("Hey! Nothing back")},q=function(a,b){b=b||{},b.new_window=b.new_window||!1,b.new_window&&window.open(a)};return{section:l,article:m,aside:n,dialog:o,back:p,URL:q}}(COOLSTRAP),COOLSTRAP.Navigate.History=function(a,b,c){var d=a.Constants.TARGET,e={main:[],container:{}},f=!1,g=a.Console,h=function(){return e[d.MAIN]},i=function(a){return e[d.CONTAINER][a]||(e[d.CONTAINER][a]=[]),e[d.CONTAINER][a]},j=function(a){return a?(e[d.CONTAINER][a+"_level"]||(e[d.CONTAINER][a+"_level"]={size:0}),e[d.CONTAINER][a+"_level"]):{size:1}},k=function(b,d){var e="#main/";d&&(e="#"+d+"/"),c.history.pushState({state:u(d),id:b},b,e+a.Util.cleanUrl(b))},l=function(b,d){var e="#main/";d&&(e="#"+d+"/"),c.history.replaceState({state:u(d),id:b},b,e+a.Util.cleanUrl(b))},m=function(){f=!0,c.history.back()},n=function(a){f=!0,c.history.go(a)},o=function(a){f||(g.info("onpopstate"),g.info(a.state))},p=function(a){if(!f){g.info(a);var c=/#main/.test(b.location.hash),d=/#main/.test(a.oldURL),e=/#aside/.test(b.location.hash),h=/#aside/.test(a.oldURL);c&&d&&g.info("cool.Navigate.back()"),e&&h&&g.info("back in ASIDE"),c&&h&&g.info("HIDE aside")}f=!1},q=function(){c.onpopstate=o,c.onhashchange=p},r=function(a){var b=a.section_id,c=a.container_id||null,d=a.replace_state||!1,e=c?i(c):h();e.push(b),j(c).size+=1,d?l(b,c):k(b,c)},s=function(a){var b=a?i(a):h();return b[b.length-1]},t=function(a){var b=a?i(a):h();b.length-=1,j(a).size-=1;if(a&&j(a).size===0){var c=s(a);l(c,a),j(a).size=1}else m()},u=function(a){var b=a?i(a):h();return b.length},v=function(b){g.info("clear"+b),b&&(b=a.Util.cleanUrl(b));var c=b?i(b):h();c.length-=1,b&&(j(b).size<=0?m():n(-1*j(b).size),j(b).size=0)};return{add:r,current:s,removeLast:t,size:u,clear:v,setup:q}}(COOLSTRAP,document,window),COOLSTRAP.View.Article=function(a){var b=a.Constants.ELEMENT,c=a.Constants.CLASS,d=a.Constants.ATTRIBUTE,e=a.Constants.TRIGGER,f={NAVIGATION_ITEM:'a[href][data-target="article"]'},g=function(f,g){var i=f+" "+b.ARTICLE+"."+c.CURRENT,j="#"+a.dom(i).attr(d.ID);a.dom(i).removeClass(c.CURRENT).trigger(e.UNLOAD),h(j,!1),a.dom(g).addClass(c.CURRENT),h(g,!0)},h=function(b,c){a.Fallback.Android&&a.Fallback.Android.inputs(b,c)},i=function(b,c){var e=c.attr(d.TITLE);if(e){var f=b+" header h1, "+b+" footer h1";a.dom(f).text(e)}},j=function(a,b){g(a,b)};return{show:j}}(COOLSTRAP),COOLSTRAP.View.Aside=function(a){var b=a.Constants.ELEMENT,c=a.Constants.CLASS,d=a.Constants.ATTRIBUTE,e=a.Constants.TRANSITION,f=function(d){var e=a.dom(b.ASIDE+d),f=c.SHOW+c.ASIDE+i(e);g(e),a.dom(b.BODY).addClass(f).addClass(c.ASIDE),e.addClass(c.CURRENT)},g=function(e){var f=e.attr(d.ID),g=a.dom("#"+f+" "+b.SECTION+"."+c.CURRENT),h=g.first();if(!h||h.length==0)g=a.dom("#"+f+" "+b.SECTION),h=g.first();var i="#"+h.attr(d.ID);h.addClass(c.CURRENT),a.Navigate.History.add({section_id:i,container_id:f,init_container:!0})},h=function(d){var f=a.dom(b.ASIDE+d),g=c.SHOW+c.ASIDE+i(f);a.dom(b.BODY).removeClass(g).removeClass(c.ASIDE),setTimeout(function(){var e=b.ASIDE+d+"."+c.CURRENT;a.dom(e).removeClass(c.CURRENT)},e.DURATION),a.Navigate.History.clear(d)},i=function(a){var b=a.attr(d.CLASS);return b||""};return{show:f,hide:h}}(COOLSTRAP),COOLSTRAP.View.Scroll=function(a){var b=a.Constants.CLASS,c=a.Constants.ATTRIBUTE,d=a.Constants.ERROR,e="p",f={hScroll:!1,vScroll:!1,useTransition:!0,momentum:!0,lockDirection:!0,fixedScrollbar:!0,fadeScrollbar:!0,hideScrollbar:!0},g={},h=250,i=0,j=function(a){var b=a.target;while(b.nodeType!=1)b=b.parentNode;b.tagName!="SELECT"&&b.tagName!="INPUT"&&b.tagName!="TEXTAREA"&&a.preventDefault()},k=function(e,f){var g=e.attr(c.ID);if(!g||g=="")i++,g=b.SCROLLABLE+i,e.attr(c.ID,g);if(e.children().length>1||e.children().length==0){var h=e.html(),j=a.dom('<div class="scroll_container"></div>');j.append(h),e.html(j)}g?t(g,f):a.Console.log(d.CREATE_SCROLL)},l=function(a,b){var c=r(a);c.html(b),t(a)},m=function(a,b){var c=r(a);c.append(b),t(a)},n=function(a,b){t(a,b)},o=function(a){g[a]&&delete g[a]},p=function(a){g[a]&&g[a].scrollTo(0,0,h)},q=function(b){var d=g[b];if(d){var e=a.dom("#"+b).first(),f=0,i=0;x(e)?f=-s(e,c.WIDTH):i=-s(e,c.HEIGHT),d.scrollTo(f,i,h)}},r=function(b){var c=a.dom("#"+b),d=c.children().first();return d.length===0&&(c.html("<div></div>"),d=c.children().first()),d},s=function(a,b){var c=a.children().first();return c[b]()-a[b]()},t=function(b,c){var d=a.dom("#"+b);c=w(d,c),v(b,c)},u=function(b,c){var d=b[0],e=x(a.dom(d));return e?d.clientWidth<d.scrollWidth:d.clientHeight<d.scrollHeight},v=function(a,b){g[a]?g[a].refresh():g[a]=new iScroll(a,b)},w=function(b,c){var d=x(b)?"hScroll":"vScroll";return c||(c={}),c[d]=!0,c=a.Util.Core.extend(f,c),c=a.Util.Core.extend(c,{onBeforeScrollStart:j}),c},x=function(a){return a.hasClass(b.HORIZONTAL)?!0:!1};return{init:k,remove:o,refresh:n,html:l,append:m,first:p,last:q}}(COOLSTRAP),COOLSTRAP.View.Dialog=function(a){var b=a.Constants.ELEMENT,c=a.Constants.CLASS,d=a.Constants.DIALOG,e=a.Constants.TRANSITION,f=a.Console,g=function(b){return a.dom.extend({},b.offset(),{width:b[0].offsetWidth,height:b[0].offsetHeight})},h=function(a,b,d,e){var f;switch(e){case c.BOTTOM:f={top:a.top+a.height,left:a.left+a.width/2-b/2};break;case c.TOP:f={top:a.top-d,left:a.left+a.width/2-b/2};break;case c.LEFT:f={top:a.top+a.height/2-d/2,left:a.left-b};break;case c.RIGHT:f={top:a.top+a.height/2-d/2,left:a.left+a.width}}return f.left<0&&(f.left=0),f.top<0&&(f.top=0),f},i=function(b){var c,d=!0,e=a.Util.Platform.reloadEnvironment(),f=e.screen;return c={top:f.height/2-b.height/2,left:f.width/2-b.width/2,"margin-left":0},c.left<0&&(c.left=0),c.top<0&&(c.top=0),c},j=function(a,b){var d=b.source_element,e;if(d)b.placement=b.placement||d.data("placement"),b.animation=b.animation||d.data("animation");else{f.warn("WTF! you must set a source_element");return}b.placement=b.placement||c.RIGHT,b.animation&&a.addClass(c.FADE_IN),a.removeClass(),e=h(g(d),a[0].offsetWidth,a[0].offsetHeight,b.placement),a.css(e).addClass(b.placement)},k=function(b,c){var d=function(){var a=i(g(b));b.css(a)};d(),a.dom(window).on("resize",function(){d()})},l=function(a,b){},m=function(a,b){},n=function(e,f){var g=a.dom(b.DIALOG+e),h=g.data("type");f=f||{};switch(h){case d.MODAL:l(g,f);break;case d.ALERT:k(g,f);break;case d.ACTION:m(g,f);break;case d.POPOVER:j(g,f)}g.removeClass(c.HIDE).addClass(c.CURRENT).addClass(c.SHOW)},o=function(f){var g=a.dom(b.DIALOG+f),h=g.data("type"),i=g.data("transition");h===d.ACTION&&(i=i||"slideUp"),h===d.MODAL&&(i=i||"bounceOut"),g.removeClass(c.SHOW).addClass(c.HIDE),i?setTimeout(function(){g.removeClass(c.CURRENT)},e.DURATION):g.removeClass(c.CURRENT)};return{show:n,close:o}}(COOLSTRAP),function(){COOLSTRAP.Fallback.Android=function(a){var b,c,d,e,f,g,h;return b=a.Constants.CLASS,g=function(a){return a.removeAttr("disabled")},f=function(a){return a.attr("disabled","disabled")},e=function(c){return a.dom(this).addClass(b.ACTIVE)},h=function(c){return a.dom(this).removeClass(b.ACTIVE)},c=function(){var b;b=a.Util.Platform.environment();if(b.isMobile)return a.dom(document.body).on("touchstart","a",e),a.dom(document.body).on("touchend","a",h)},d=function(b,c){var d,e,h,i,j,k;d=a.Util.Platform.environment();if(d.isMobile&&d.os.name==="android"&&d.os.version<"4"){j=b+" input, "+b+" textarea, "+b+" select",h=a.dom(j),e=0,i=h.length,k=[];while(e<i)c?g(h[e]):f(h[e]),k.push(e++);return k}},{buttons:c,inputs:d}}(COOLSTRAP)}.call(this),function(){COOLSTRAP.Fallback.iOS=function(a,b){var c,d;return c=b.querySelector&&b.querySelector('meta[name="viewport"]'),d=function(){var d,e;d=a.Util.Platform.environment(),e=function(){return c.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"};if(c&&d.isMobile&&d.os.name==="ios")return c.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",b.addEventListener("gesturestart",e,!1)},{scaleFix:d}}(COOLSTRAP,document)}.call(this)